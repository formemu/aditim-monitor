# üìä BaseTable ‚Äî –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –¥–ª—è —Ç–∞–±–ª–∏—Ü

## ‚úÖ –°–û–ó–î–ê–ù–û

### –§–∞–π–ª—ã:
- ‚úÖ `src/client/base_table.py` ‚Äî –ë–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å (210 —Å—Ç—Ä–æ–∫)
- ‚úÖ `BASE_TABLE_GUIDE.md` ‚Äî –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
- ‚úÖ `TABLE_MIGRATION_CHECKLIST.md` ‚Äî –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–∏

---

## üéØ –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï

–£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Å `QTableWidget` —á–µ—Ä–µ–∑ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã:

| –ú–µ—Ç–æ–¥ | –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ | –≠–∫–æ–Ω–æ–º–∏—è |
|-------|-----------|----------|
| `setup_table()` | –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –∏ —Å—Ç—Ä–æ–∫ | 4 —Å—Ç—Ä–æ–∫–∏ ‚Üí 1 |
| `populate_row()` | –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ | 7 —Å—Ç—Ä–æ–∫ ‚Üí 1 |
| `populate_table()` | –ü–æ–ª–Ω–æ–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–∞–±–ª–∏—Ü—ã | 18 —Å—Ç—Ä–æ–∫ ‚Üí 10 |
| `clear_table()` | –û—á–∏—Å—Ç–∫–∞ —Ç–∞–±–ª–∏—Ü—ã | –Ø–≤–Ω–∞—è —Å–µ–º–∞–Ω—Ç–∏–∫–∞ |
| `get_selected_id()` | –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∏–∑ UserRole | –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ |
| `set_cell_value()` | –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–Ω–∞—á–µ–Ω–∏—è —è—á–µ–π–∫–∏ | 3 —Å—Ç—Ä–æ–∫–∏ ‚Üí 1 |

---

## üìà –û–ñ–ò–î–ê–ï–ú–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´

### –≠–∫–æ–Ω–æ–º–∏—è –∫–æ–¥–∞:
- **~20 –º–µ—Ç–æ–¥–æ–≤** –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ç–∞–±–ª–∏—Ü
- **~100-130 —Å—Ç—Ä–æ–∫** –∫–æ–¥–∞ –±—É–¥–µ—Ç —É–¥–∞–ª–µ–Ω–æ
- **25-35%** —Å–æ–∫—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏

### –£–ª—É—á—à–µ–Ω–∏—è:
- ‚úÖ –ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏
- ‚úÖ –ú–µ–Ω—å—à–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –ü—Ä–æ—â–µ —á–∏—Ç–∞—Ç—å –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏ –∏ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢

### 1. –ò–º–ø–æ—Ä—Ç
```python
from ..base_table import BaseTable
```

### 2. –ü—Ä–æ—Å—Ç–µ–π—à–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
```python
def update_profile_table(self):
    BaseTable.populate_table(
        self.ui.tableWidget_profile,
        ["–ê—Ä—Ç–∏–∫—É–ª", "–û–ø–∏—Å–∞–Ω–∏–µ"],
        api_manager.table["profile"],
        func_row_mapper=lambda p: [p['article'], p['description']],
        func_id_getter=lambda p: p['id']
    )
```

### 3. –†–µ–∑—É–ª—å—Ç–∞—Ç
- **–ë—ã–ª–æ:** 18 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **–°—Ç–∞–ª–æ:** 10 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞
- **–≠–∫–æ–Ω–æ–º–∏—è:** -8 —Å—Ç—Ä–æ–∫ (-44%)

---

## üìã –ü–õ–ê–ù –ú–ò–ì–†–ê–¶–ò–ò

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (7 —Ç–∞–±–ª–∏—Ü) ‚Äî –ü—Ä–æ—Å—Ç—ã–µ
- `window_profile.py`: `update_profile_table()` ‚Üê –ù–ê–ß–ê–¢–¨ –û–¢–°–Æ–î–ê
- `window_product.py`: `update_table_profiletool()`, `update_table_product()`
- `window_setting.py`: `update_table_dimension()`, `update_table_component_type()`
- `window_development.py`: 2 —Ç–∞–±–ª–∏—Ü—ã

**–í—Ä–µ–º—è:** ~45-60 –º–∏–Ω—É—Ç | **–≠–∫–æ–Ω–æ–º–∏—è:** ~35-40 —Å—Ç—Ä–æ–∫

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (9 —Ç–∞–±–ª–∏—Ü) ‚Äî –°—Ä–µ–¥–Ω—è—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å
- `window_task.py`: 5 —Ç–∞–±–ª–∏—Ü
- `window_product.py`: 3 —Ç–∞–±–ª–∏—Ü—ã
- `window_setting.py`: 1 —Ç–∞–±–ª–∏—Ü–∞

**–í—Ä–µ–º—è:** ~90-120 –º–∏–Ω—É—Ç | **–≠–∫–æ–Ω–æ–º–∏—è:** ~45-50 —Å—Ç—Ä–æ–∫

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (2 —Ç–∞–±–ª–∏—Ü—ã) ‚Äî –°–ª–æ–∂–Ω—ã–µ
- `window_blank.py`: 2 —Ç–∞–±–ª–∏—Ü—ã (–≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö)

**–í—Ä–µ–º—è:** ~30-40 –º–∏–Ω—É—Ç | **–≠–∫–æ–Ω–æ–º–∏—è:** ~20-25 —Å—Ç—Ä–æ–∫

---

## üîß –ú–ï–¢–û–î–´ BaseTable

### `populate_table()` ‚Äî –ì–ª–∞–≤–Ω—ã–π –º–µ—Ç–æ–¥

```python
BaseTable.populate_table(
    table,                    # QTableWidget –≤–∏–¥–∂–µ—Ç
    list_header,              # ["Col1", "Col2", ...]
    list_data,                # [{'id': 1, ...}, {'id': 2, ...}]
    func_row_mapper,          # lambda item: [item['field1'], item['field2']]
    func_id_getter=None,      # lambda item: item['id'] (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    is_stretch_last=True      # –†–∞—Å—Ç—è–≥–∏–≤–∞—Ç—å –ø–æ—Å–ª–µ–¥–Ω—é—é –∫–æ–ª–æ–Ω–∫—É
)
```

### `setup_table()` ‚Äî –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

```python
BaseTable.setup_table(
    table,
    ["–ó–∞–≥–æ–ª–æ–≤–æ–∫ 1", "–ó–∞–≥–æ–ª–æ–≤–æ–∫ 2"],
    count_row=10
)
```

### `populate_row()` ‚Äî –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Å—Ç—Ä–æ–∫–∏

```python
BaseTable.populate_row(
    table,
    row_index,
    ["–ó–Ω–∞—á–µ–Ω–∏–µ 1", "–ó–Ω–∞—á–µ–Ω–∏–µ 2"],
    data_id=42
)
```

### `get_selected_id()` ‚Äî –ü–æ–ª—É—á–µ–Ω–∏–µ ID

```python
selected_id = BaseTable.get_selected_id(table)
if selected_id is None:
    return  # –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã–±—Ä–∞–Ω–æ
```

### `clear_table()` ‚Äî –û—á–∏—Å—Ç–∫–∞

```python
BaseTable.clear_table(table)
```

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:
- ‚úÖ BaseTable —Å–æ–∑–¥–∞–Ω (210 —Å—Ç—Ä–æ–∫)
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≥–æ—Ç–æ–≤–∞
- ‚úÖ –ß–µ–∫–ª–∏—Å—Ç —Å–æ–∑–¥–∞–Ω
- ‚è∏Ô∏è –ú–∏–≥—Ä–∞—Ü–∏—è –Ω–µ –Ω–∞—á–∞—Ç–∞ (0/20)

### –ü–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏:
- üìâ **-100-130 —Å—Ç—Ä–æ–∫** –∫–æ–¥–∞ —Ç–∞–±–ª–∏—Ü
- üìà **+210 —Å—Ç—Ä–æ–∫** –±–∞–∑–æ–≤–æ–≥–æ –∫–ª–∞—Å—Å–∞
- üéØ **–ò—Ç–æ–≥–æ —ç–∫–æ–Ω–æ–º–∏—è:** ~0 —Å—Ç—Ä–æ–∫, –Ω–æ –∫–æ–¥ —Å—Ç–∞–Ω–µ—Ç –ø—Ä–æ—â–µ –∏ —É–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω–µ–µ
- üèÜ **–ì–ª–∞–≤–Ω–æ–µ:** –µ–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏!

---

## üéì –û–ë–£–ß–ï–ù–ò–ï

### –î–ª—è –Ω–æ–≤—ã—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤:
1. –ü—Ä–æ—á–∏—Ç–∞—Ç—å `BASE_TABLE_GUIDE.md` (–ø—Ä–∏–º–µ—Ä—ã –º–∏–≥—Ä–∞—Ü–∏–∏)
2. –ò–∑—É—á–∏—Ç—å `base_table.py` (–º–µ—Ç–æ–¥—ã –∫–ª–∞—Å—Å–∞)
3. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã (–ø–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å BaseTable –¥–ª—è –Ω–æ–≤—ã—Ö —Ç–∞–±–ª–∏—Ü

### –î–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã:
1. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Å—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã (window_profile, window_product)
2. –û—Ü–µ–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç
3. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é —Å—Ä–µ–¥–Ω–∏—Ö –∏ —Å–ª–æ–∂–Ω—ã—Ö —Ç–∞–±–ª–∏—Ü
4. –û–±–Ω–æ–≤–∏—Ç—å —á–µ–∫–ª–∏—Å—Ç –ø–æ –º–µ—Ä–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞

---

**üéØ –¶–ï–õ–¨: –ï–¥–∏–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç —Ä–∞–±–æ—Ç—ã —Å —Ç–∞–±–ª–∏—Ü–∞–º–∏ = –ü—Ä–æ—â–µ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ = –ú–µ–Ω—å—à–µ –±–∞–≥–æ–≤**
